{"ast":null,"code":"var _jsxFileName = \"/home/vandana/Documents/React.js fundamentals/BRaabw/TA-FRONTEND-state-and-forms-TRaaab/block-BRaabw/code/shopping-cart/src/components/Shop.js\";\nimport React from \"react\";\nimport Cart from \"./Cart\";\nimport Products from \"./Products\";\nimport Filters from \"./Filters\";\nimport { products } from \"../data.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Shop extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSizes = size => {\n      if (this.state.selectedSizes.includes(size)) {\n        this.setState(prevState => ({\n          selectedSizes: prevState.selectedSizes.filter(s => s !== size)\n        }));\n      } else {\n        this.setState(prevState => ({\n          selectedSizes: prevState.selectedSizes.concat(size)\n        }));\n      }\n    };\n\n    this.handleCartToggle = sumItems => {\n      if (!this.state.cartToggle) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./static/bag-icon.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex justify-center align-center count\",\n            children: sumItems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true);\n      } else {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 11\n          }, this)\n        }, void 0, false);\n      }\n    };\n\n    this.handleToggle = () => {\n      this.setState({\n        cartToggle: !this.state.cartToggle\n      });\n    };\n\n    this.handleAddCartItems = prod => {\n      let isPresent = this.state.cartItems.findIndex(p => p.id === prod.id) !== -1;\n\n      if (isPresent) {\n        this.incrementQuantity(prod.id);\n      } else {\n        this.setState(prevState => ({\n          cartItems: prevState.cartItems.concat({ ...prod,\n            quantity: 1\n          })\n        }));\n      }\n    };\n\n    this.incrementQuantity = id => {\n      this.setState(prevState => ({\n        cartItems: prevState.cartItems.map(p => {\n          if (p.id === id) {\n            return { ...p,\n              quantity: p.quantity + 1\n            };\n          }\n\n          return p;\n        })\n      }));\n    };\n\n    this.decrementQuantity = id => {\n      this.setState(prevState => ({\n        cartItems: prevState.cartItems.map(p => {\n          if (p.id === id && p.quantity > 1) {\n            return { ...p,\n              quantity: p.quantity - 1\n            };\n          }\n\n          return p;\n        })\n      }));\n    };\n\n    this.deleteItem = id => {\n      this.setState(prevState => {\n        let updatedCartItems = prevState.cartItems.filter(p => {\n          return p.id !== id;\n        });\n        return {\n          cartItems: updatedCartItems\n        };\n      });\n    };\n\n    this.state = {\n      cartToggle: false,\n      selectedSizes: [],\n      cartItems: []\n    };\n  }\n\n  render() {\n    let sumItems = this.state.cartItems.reduce((acc, cv) => {\n      acc = acc + cv.quantity;\n      return acc;\n    }, 0);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container flex justify-between align-start\",\n        children: [/*#__PURE__*/_jsxDEV(Filters, {\n          products: products,\n          selectedSizes: this.state.selectedSizes,\n          handleSizes: response => {\n            this.handleSizes(response);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Products, {\n          products: Products,\n          selectedSizes: this.state.selectedSizes,\n          handleAddCartItems: response => {\n            this.handleAddCartItems(response);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => this.handleToggle(),\n            className: !this.state.cartToggle ? \"cart-toggle flex justify-center align-center cart-toggle-hide\" : \"cart-toggle flex justify-center align-center\",\n            children: this.handleCartToggle(sumItems)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Cart, {\n            sumItems: sumItems,\n            cartToggle: this.state.cartToggle,\n            cartItems: this.state.cartItems,\n            incrementQuantity: response => this.incrementQuantity(response),\n            decrementQuantity: response => this.decrementQuantity(response),\n            deleteItem: response => this.deleteItem(response)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Shop;","map":{"version":3,"names":["React","Cart","Products","Filters","products","Shop","Component","constructor","props","handleSizes","size","state","selectedSizes","includes","setState","prevState","filter","s","concat","handleCartToggle","sumItems","cartToggle","handleToggle","handleAddCartItems","prod","isPresent","cartItems","findIndex","p","id","incrementQuantity","quantity","map","decrementQuantity","deleteItem","updatedCartItems","render","reduce","acc","cv","response"],"sources":["/home/vandana/Documents/React.js fundamentals/BRaabw/TA-FRONTEND-state-and-forms-TRaaab/block-BRaabw/code/shopping-cart/src/components/Shop.js"],"sourcesContent":["import React from \"react\";\nimport Cart from \"./Cart\";\nimport Products from \"./Products\";\nimport Filters from \"./Filters\";\nimport {products} from \"../data.json\";\n\nclass Shop extends React.Component {\n  constructor(props) { \n    super(props);\n    this.state = {\n      cartToggle: false,\n      selectedSizes : [],\n      cartItems: [],\n    };\n  }\n\n  handleSizes = (size)=>{\n    if(this.state.selectedSizes.includes(size)){\n        this.setState(prevState=>({\n            selectedSizes : prevState.selectedSizes.filter(s=> s!== size),\n            }));\n    }else{\n        this.setState(prevState=>({\n            selectedSizes : prevState.selectedSizes.concat(size),\n            }));\n    }  \n};\n\n\n  handleCartToggle = (sumItems) => {\n    if (!this.state.cartToggle) {\n      return (\n        <>\n          <img src=\"./static/bag-icon.png\" />\n          <span className=\"flex justify-center align-center count\">{sumItems}</span>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <span>X</span>\n        </>\n      );\n    }\n  };\n\n\n  handleToggle = () => {\n    this.setState({ cartToggle: !this.state.cartToggle });\n  };\n\n\n    handleAddCartItems =(prod)=>{\nlet isPresent = this.state.cartItems.findIndex(p=> p.id === prod.id) !== -1;\n\n    if(isPresent){\n        this.incrementQuantity(prod.id);\n    }else{\n        this.setState((prevState)=>({\n            cartItems: prevState.cartItems.concat({...prod, quantity: 1}),\n        }));\n    }\n    };\n\n\n  incrementQuantity = (id)=>{\n      this.setState((prevState)=>({\n       cartItems: prevState.cartItems.map(p=>{\n        if(p.id === id){\n            return {...p, quantity: p.quantity + 1};\n        }\n        return p;\n       })\n      }));\n  }\n  \n\n  decrementQuantity = (id)=>{\n    this.setState((prevState)=>({\n        cartItems: prevState.cartItems.map(p=>{\n         if(p.id === id && p.quantity > 1 ){\n             return {...p, quantity: p.quantity - 1};\n         }\n         return p;\n        })\n       }));\n}\n\n\ndeleteItem =(id)=>{\n    this.setState((prevState)=>{\n     let updatedCartItems = prevState.cartItems.filter(p=>{\n        return p.id !== id;\n     });\n        return {\n            cartItems : updatedCartItems,\n        };\n});\n};\n\n\n    render() {\n        let sumItems = this.state.cartItems.reduce((acc,cv)=>{\n            acc = acc + cv.quantity;\n            return acc;\n        }, 0);\n    \n\n    return (\n        <>\n        <div className=\"container flex justify-between align-start\">\n            <Filters products={products} selectedSizes={this.state.selectedSizes} handleSizes={(response)=>{this.handleSizes(response)}}/>\n            <Products products={Products} selectedSizes={this.state.selectedSizes} handleAddCartItems={(response)=>{this.handleAddCartItems(response)}}/>\n        <aside>\n            <div\n          \n                onClick={() => this.handleToggle()}\n                className={\n                !this.state.cartToggle\n                    ? \"cart-toggle flex justify-center align-center cart-toggle-hide\"\n                    : \"cart-toggle flex justify-center align-center\"\n                }\n            >\n                {this.handleCartToggle(sumItems)}\n            </div>\n            <Cart sumItems={sumItems} cartToggle={this.state.cartToggle} cartItems={this.state.cartItems}\n             incrementQuantity={(response)=>this.incrementQuantity(response)} decrementQuantity={(response)=>\n             this.decrementQuantity(response)} deleteItem={(response)=>this.deleteItem(response)}/>\n            </aside>\n        </div>\n        </>\n    );\n    }\n}\n\nexport default Shop;"],"mappings":"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"},"metadata":{},"sourceType":"module"}