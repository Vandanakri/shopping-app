{"ast":null,"code":"var _jsxFileName = \"/home/vandana/Documents/React.js fundamentals/BRaabw/TA-FRONTEND-state-and-forms-TRaaab/block-BRaabw/code/shopping-cart/src/components/Shop.js\";\nimport React from \"react\";\nimport Cart from \"./Cart\";\nimport Products from \"./Products\";\nimport Filters from \"./Filters\";\nimport { products } from \"../data/data.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Shop extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSizes = size => {\n      if (this.state.selectedSizes.includes(size)) {\n        this.setState(prevState => ({\n          selectedSizes: prevState.selectedSizes.filter(s => s !== size)\n        }));\n      } else {\n        this.setState(prevState => ({\n          selectedSizes: prevState.selectedSizes.concat(size)\n        }));\n      }\n    };\n\n    this.handleCartToggle = sumItems => {\n      if (!this.state.cartToggle) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./static/bag-icon.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex justify-center align-center count\",\n            children: sumItems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true);\n      } else {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 11\n          }, this)\n        }, void 0, false);\n      }\n    };\n\n    this.handleToggle = () => {\n      this.setState({\n        cartToggle: !this.state.cartToggle\n      });\n    };\n\n    this.handleAddCartItems = prod => {\n      let isPresent = this.state.cartItems.findIndex(p => p.id === prod.id) !== -1;\n\n      if (isPresent) {\n        this.incrementQuantity(prod.id);\n      } else {\n        this.setState(prevState => ({\n          cartItems: prevState.cartItems.concat({ ...prod,\n            quantity: 1\n          })\n        }));\n      }\n    };\n\n    this.incrementQuantity = id => {\n      this.setState(prevState => ({\n        cartItems: prevState.cartItems.map(p => {\n          if (p.id === id) {\n            return { ...p,\n              quantity: p.quantity + 1\n            };\n          }\n\n          return p;\n        })\n      }));\n    };\n\n    this.decrementQuantity = id => {\n      this.setState(prevState => ({\n        cartItems: prevState.cartItems.map(p => {\n          if (p.id === id && p.quantity > 1) {\n            return { ...p,\n              quantity: p.quantity - 1\n            };\n          }\n\n          return p;\n        })\n      }));\n    };\n\n    this.deleteItem = id => {\n      this.setState(prevState => {\n        let updatedCartItems = prevState.cartItems.filter(p => {\n          return p.id !== id;\n        });\n        return {\n          cartItems: updatedCartItems\n        };\n      });\n    };\n\n    this.state = {\n      cartToggle: false,\n      selectedSizes: [],\n      cartItems: []\n    };\n  }\n\n  render() {\n    let sumItems = this.state.cartItems.reduce((acc, cv) => {\n      acc = acc + cv.quantity;\n      return acc;\n    }, 0);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container flex justify-between align-start\",\n        children: [/*#__PURE__*/_jsxDEV(Filters, {\n          products: products,\n          selectedSizes: this.state.selectedSizes,\n          handleSizes: response => {\n            this.handleSizes(response);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Products, {\n          products: products,\n          selectedSizes: this.state.selectedSizes,\n          handleAddCartItems: response => {\n            this.handleAddCartItems(response);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => this.handleToggle(),\n            className: !this.state.cartToggle ? \"cart-toggle flex justify-center align-center cart-toggle-hide\" : \"cart-toggle flex justify-center align-center\",\n            children: this.handleCartToggle(sumItems)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Cart, {\n            sumItems: sumItems,\n            cartToggle: this.state.cartToggle,\n            cartItems: this.state.cartItems,\n            incrementQuantity: response => this.incrementQuantity(response),\n            decrementQuantity: response => this.decrementQuantity(response),\n            deleteItem: response => this.deleteItem(response)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Shop;","map":{"version":3,"names":["React","Cart","Products","Filters","products","Shop","Component","constructor","props","handleSizes","size","state","selectedSizes","includes","setState","prevState","filter","s","concat","handleCartToggle","sumItems","cartToggle","handleToggle","handleAddCartItems","prod","isPresent","cartItems","findIndex","p","id","incrementQuantity","quantity","map","decrementQuantity","deleteItem","updatedCartItems","render","reduce","acc","cv","response"],"sources":["/home/vandana/Documents/React.js fundamentals/BRaabw/TA-FRONTEND-state-and-forms-TRaaab/block-BRaabw/code/shopping-cart/src/components/Shop.js"],"sourcesContent":["import React from \"react\";\nimport Cart from \"./Cart\";\nimport Products from \"./Products\";\nimport Filters from \"./Filters\";\n\nimport { products } from \"../data/data.json\";\nclass Shop extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cartToggle: false,\n      selectedSizes: [],\n      cartItems: [],\n    };\n  }\n\n  handleSizes = (size) => {\n    if (this.state.selectedSizes.includes(size)) {\n      this.setState(prevState => ({\n        selectedSizes: prevState.selectedSizes.filter(s => s !== size),\n      }));\n    } else {\n      this.setState(prevState => ({\n        selectedSizes: prevState.selectedSizes.concat(size),\n      }));\n    }\n  };\n\n  handleCartToggle = (sumItems) => {\n    if (!this.state.cartToggle) {\n      return (\n        <>\n          <img src=\"./static/bag-icon.png\" />\n          <span className=\"flex justify-center align-center count\">{sumItems}</span>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <span>X</span>\n        </>\n      );\n    }\n  };\n\n  handleToggle = () => {\n    this.setState({ cartToggle: !this.state.cartToggle });\n  };\n\n\n  handleAddCartItems = (prod) => {\n    let isPresent = this.state.cartItems.findIndex(p => p.id === prod.id) !== -1;\n\n    if (isPresent) {\n      this.incrementQuantity(prod.id);\n    } else {\n      this.setState((prevState) => ({\n        cartItems: prevState.cartItems.concat({ ...prod, quantity: 1 }),\n      }));\n    }\n  };\n\n\n  incrementQuantity = (id) => {\n    this.setState((prevState) => ({\n      cartItems: prevState.cartItems.map(p => {\n        if (p.id === id) {\n          return { ...p, quantity: p.quantity + 1 };\n        }\n        return p;\n      })\n    }));\n  }\n\n\n  decrementQuantity = (id) => {\n    this.setState((prevState) => ({\n      cartItems: prevState.cartItems.map(p => {\n        if (p.id === id && p.quantity > 1) {\n          return { ...p, quantity: p.quantity - 1 };\n        }\n        return p;\n      })\n    }));\n  }\n\n\n  deleteItem = (id) => {\n    this.setState((prevState) => {\n      let updatedCartItems = prevState.cartItems.filter(p => {\n        return p.id !== id;\n      });\n      return {\n        cartItems: updatedCartItems,\n      };\n    });\n  };\n\n\n  render() {\n    let sumItems = this.state.cartItems.reduce((acc, cv) => {\n      acc = acc + cv.quantity;\n      return acc;\n    }, 0);\n\n\n    return (\n      <>\n        <div className=\"container flex justify-between align-start\">\n          <Filters products={products} selectedSizes={this.state.selectedSizes} handleSizes={(response) => { this.handleSizes(response) }} />\n          <Products products={products} selectedSizes={this.state.selectedSizes} handleAddCartItems={(response) => { this.handleAddCartItems(response) }} />\n          <aside>\n            <div\n\n              onClick={() => this.handleToggle()}\n              className={\n                !this.state.cartToggle\n                  ? \"cart-toggle flex justify-center align-center cart-toggle-hide\"\n                  : \"cart-toggle flex justify-center align-center\"\n              }\n            >\n              {this.handleCartToggle(sumItems)}\n            </div>\n            <Cart sumItems={sumItems} cartToggle={this.state.cartToggle} cartItems={this.state.cartItems} incrementQuantity={(response) => this.incrementQuantity(response)} decrementQuantity={(response) => this.decrementQuantity(response)} deleteItem={(response) => this.deleteItem(response)} />\n          </aside>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Shop;"],"mappings":"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"},"metadata":{},"sourceType":"module"}